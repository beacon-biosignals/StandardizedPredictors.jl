<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · StandardizedPredictors.jl</title><link rel="canonical" href="https://beacon-biosignals.github.io/StandardizedPredictors.jl/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">StandardizedPredictors.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Centering"><span>Centering</span></a></li></ul></li><li><a class="tocitem" href="api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/beacon-biosignals/StandardizedPredictors.jl/blob/master/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="StandardizedPredictors"><a class="docs-heading-anchor" href="#StandardizedPredictors">StandardizedPredictors</a><a id="StandardizedPredictors-1"></a><a class="docs-heading-anchor-permalink" href="#StandardizedPredictors" title="Permalink"></a></h1><p>This package provides convenient and modular functionality for standardizing regression predictors.  Standardizing predictors can increase numerical stability of some estimation procedures when the predictors are on very different scales or when they are non-orthogonal.  It can also produce more interpretable regression models in the presence of interaction terms.</p><p>The examples below demonstrate the use of StandardizedPredictors.jl with GLM.jl, but they will work with any modeling package that is based on the <a href="https://juliastats.org/StatsModels.jl/stable/formula/">StatsModels.jl formula</a>.</p><h2 id="Centering"><a class="docs-heading-anchor" href="#Centering">Centering</a><a id="Centering-1"></a><a class="docs-heading-anchor-permalink" href="#Centering" title="Permalink"></a></h2><p>Let&#39;s consider a (slightly) synthetic dataset of weights for adolescents of different ages, with predictors <code>age</code> (continuous, from 13 to 20) and <code>sex</code>, and <code>weight</code> in pounds.  The weights are based loosely on the medians from the <a href="https://www.cdc.gov/growthcharts/html_charts/wtage.htm">CDC growth charts</a>, which show that the median male and female both start off around 100 pounds at age 13, but by age 20 the median male weighs around 155 pounds while the median female weighs around 125 pounds.</p><pre><code class="language-julia-repl">julia&gt; using StandardizedPredictors, DataFrames, StatsModels, GLM

julia&gt; data = DataFrame(age=[13:20; 13:20], 
                        sex=repeat([&quot;male&quot;, &quot;female&quot;], inner=8),
                        weight=[range(100, 155; length=8); range(100, 125; length=8)])
16×3 DataFrame
 Row │ age    sex     weight  
     │ Int64  String  Float64 
─────┼────────────────────────
   1 │    13  male    100.0
   2 │    14  male    107.857
   3 │    15  male    115.714
   4 │    16  male    123.571
   5 │    17  male    131.429
   6 │    18  male    139.286
   7 │    19  male    147.143
   8 │    20  male    155.0
   9 │    13  female  100.0
  10 │    14  female  103.571
  11 │    15  female  107.143
  12 │    16  female  110.714
  13 │    17  female  114.286
  14 │    18  female  117.857
  15 │    19  female  121.429
  16 │    20  female  125.0</code></pre><p>In this dataset, there&#39;s obviously a main effect of sex: males are heavier than females for every age except 13 years.  But if we run a basic linear regression, we see something rather different:</p><pre><code class="language-julia-repl">julia&gt; lm(@formula(weight ~ 1 + sex * age), data)
StatsModels.TableRegressionModel{LinearModel{GLM.LmResp{Vector{Float64}}, GLM.DensePredChol{Float64, LinearAlgebra.CholeskyPivoted{Float64, Matrix{Float64}}}}, Matrix{Float64}}

weight ~ 1 + sex + age + sex &amp; age

Coefficients:
───────────────────────────────────────────────────────────────────────────────────────────
                     Coef.   Std. Error                   t  Pr(&gt;|t|)  Lower 95%  Upper 95%
───────────────────────────────────────────────────────────────────────────────────────────
(Intercept)       53.5714   6.52413e-13   82112795579380.03    &lt;1e-99   53.5714    53.5714
sex: male        -55.7143   9.22651e-13  -60385015159419.42    &lt;1e-99  -55.7143   -55.7143
age                3.57143  3.91643e-14   91190809902610.67    &lt;1e-99    3.57143    3.57143
sex: male &amp; age    4.28571  5.53868e-14   77377968076840.64    &lt;1e-99    4.28571    4.28571
───────────────────────────────────────────────────────────────────────────────────────────</code></pre><p>There is a main effect of sex but it goes in the exact opposite direction of what we know to be true, and says that males are 55 pounds <em>lighter</em>.  The reason is that because there&#39;s an interaction between sex and age in this model, the main effect of sex the (extrapolated) difference in weight between sexes when age is 0.</p><p>That&#39;s a non-sensical value, since it&#39;s far outside of our range of ages.  When we <a href="api/#StandardizedPredictors.Center"><code>Center</code></a> age, we get something more meaningful:</p><pre><code class="language-julia-repl">julia&gt; lm(@formula(weight ~ 1 + sex * age), data; contrasts=Dict(:age =&gt; Center()))
StatsModels.TableRegressionModel{LinearModel{GLM.LmResp{Vector{Float64}}, GLM.DensePredChol{Float64, LinearAlgebra.CholeskyPivoted{Float64, Matrix{Float64}}}}, Matrix{Float64}}

weight ~ 1 + sex + center(age, 16.5) + sex &amp; center(age, 16.5)

Coefficients:
─────────────────────────────────────────────────────────────────────────────────────────────────────
                             Coef.   Std. Error                     t  Pr(&gt;|t|)  Lower 95%  Upper 95%
─────────────────────────────────────────────────────────────────────────────────────────────────────
(Intercept)              112.5      5.80156e-15  19391345671018664.00    &lt;1e-99  112.5      112.5
sex: male                 15.0      8.20464e-15   1828233602707956.50    &lt;1e-99   15.0       15.0
center(age)                3.57143  2.53201e-15   1410512847055512.75    &lt;1e-99    3.57143    3.57143
sex: male &amp; center(age)    4.28571  3.5808e-15    1196859838924435.25    &lt;1e-99    4.28571    4.28571
─────────────────────────────────────────────────────────────────────────────────────────────────────</code></pre><p>We can also center age at a different value, like the start of our range where the difference is essentially zero:</p><pre><code class="language-julia-repl">julia&gt; lm(@formula(weight ~ 1 + sex * age), data; contrasts=Dict(:age =&gt; Center(13)))
StatsModels.TableRegressionModel{LinearModel{GLM.LmResp{Vector{Float64}}, GLM.DensePredChol{Float64, LinearAlgebra.CholeskyPivoted{Float64, Matrix{Float64}}}}, Matrix{Float64}}

weight ~ 1 + sex + center(age, 13) + sex &amp; center(age, 13)

Coefficients:
───────────────────────────────────────────────────────────────────────────────────────────────────────────────
                                Coef.   Std. Error                    t  Pr(&gt;|t|)      Lower 95%      Upper 95%
───────────────────────────────────────────────────────────────────────────────────────────────────────────────
(Intercept)              100.0         2.18363e-14  4579537167175366.00    &lt;1e-99  100.0          100.0
sex: male                 -9.4739e-14  3.08811e-14                -3.07    0.0098   -1.62023e-13   -2.74548e-14
center(age)                3.57143     5.21987e-15   684199229964770.38    &lt;1e-99    3.57143        3.57143
sex: male &amp; center(age)    4.28571     7.38201e-15   580562298228847.88    &lt;1e-99    4.28571        4.28571
───────────────────────────────────────────────────────────────────────────────────────────────────────────────</code></pre></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="api/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 16 April 2021 20:06">Friday 16 April 2021</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
